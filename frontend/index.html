<!DOCTYPE html>
<html>
  <head>
    <script src="painterro-1.2.87.min.js"></script>  
    <title>Broken Nickture Phone</title>
    <body>
      <h1>Broken Nickture Phone</h1>
      <div style="width: 500px; height: 500px;" id="test">
        <script>
        var ptro = Painterro({
            id: 'test',
            defaultTool: 'brush',
            defaultSize: '400x400',
            hiddenTools: ['crop', 'arrow', 'rotate', 'resize', 'save', 'open', 'close', 'zoomin', 'zoomout', 'settings', 'select', 'pixelize'],
            saveHandler: function (image, done) {
              // of course, instead of raw XHR you can use fetch, jQuery, etc
              var xhr = new XMLHttpRequest();
              xhr.open("POST", "http://127.0.0.1:5000/save-as-base64/");
              xhr.setRequestHeader("Content-Type", "application/json");
              xhr.send(JSON.stringify({
                image: image.asDataURL()
              }));
              xhr.onload = function (e) {
                // after saving is done, call done callback
                done(true); //done(true) will hide painterro, done(false) will leave opened
              }
            },
            activeColor: '#00b400'  // change active color to green
        });
        ptro.show();
        </script>
      </div>
    </body>
  </head>
</html>